"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3225],{3225:(S,p,e)=>{e.r(p),e.d(p,{LoginModule:()=>I});var u=e(177),i=e(4742),s=e(4341),g=e(5922),n=e(4438),f=e(3656),c=e(1626),h=e(5312),v=e(4412),L=e(8141),C=e(9437),M=e(7673);new c.Lr({"Content-Type":"application/json"});let x=(()=>{var o;class r{constructor(t){this.httpClient=t,this.user$=new v.t(null),this.baseUrl=h.c.apiRootURL}loginRequest(t){return this.httpClient.post(this.baseUrl+"Login",t).pipe((0,L.M)(a=>{a.valid&&localStorage.setItem("userDetails",JSON.stringify(a.result))}),(0,C.W)(a=>(0,M.of)(null)))}logout(){this.user$.next(null)}}return(o=r).\u0275fac=function(t){return new(t||o)(n.KVO(c.Qq))},o.\u0275prov=n.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var y=e(8397);function F(o,r){1&o&&(n.j41(0,"span"),n.EFF(1,"Login"),n.k0s())}function b(o,r){1&o&&n.nrm(0,"ion-spinner")}const U=[{path:"",component:(()=>{var o;class r{constructor(t,a,m,O,P,G){this.router=t,this.toastController=a,this.navCtrl=m,this.apiLogin=O,this.fb=P,this.toastService=G,this.isLoading=!1}ngOnInit(){this.loginForm=this.fb.group({Username:[null,[s.k0.required]],Password:[null,[s.k0.required]],companyId:[-1,[s.k0.required]],Rememberme:[!1,[s.k0.required]]})}onLogin(){this.isLoading=!0,this.apiLogin.loginRequest(this.loginForm.value).subscribe(t=>{this.isLoading=!1,t.valid?(this.router.navigate(["/home"]),this.toastService.presentToast(t.message)):this.toastService.presentToastErrror(t.message)})}}return(o=r).\u0275fac=function(t){return new(t||o)(n.rXU(g.Ix),n.rXU(i.K_),n.rXU(f.q9),n.rXU(x),n.rXU(s.ze),n.rXU(y.f))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],standalone:!1,decls:19,vars:5,consts:[[3,"fullscreen"],[1,"login-page",3,"formGroup"],[1,"login-wrapper"],[1,"login-card"],[1,"text-center"],["position","floating"],["type","email","formControlName","Username"],["type","password","formControlName","Password"],["expand","block","color","primary",1,"login-button",3,"click","disabled"],[4,"ngIf"]],template:function(t,a){1&t&&(n.j41(0,"ion-content",0)(1,"ion-content",1)(2,"div",2)(3,"ion-card",3)(4,"ion-card-header")(5,"ion-card-title",4),n.EFF(6,"Welcome Back!"),n.k0s()(),n.j41(7,"ion-card-content")(8,"ion-item")(9,"ion-label",5),n.EFF(10,"UserName"),n.k0s(),n.nrm(11,"ion-input",6),n.k0s(),n.j41(12,"ion-item")(13,"ion-label",5),n.EFF(14,"Password"),n.k0s(),n.nrm(15,"ion-input",7),n.k0s(),n.j41(16,"ion-button",8),n.bIt("click",function(){return a.onLogin()}),n.DNE(17,F,2,0,"span",9)(18,b,1,0,"ion-spinner",9),n.k0s()()()()()()),2&t&&(n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("formGroup",a.loginForm),n.R7$(15),n.Y8G("disabled",a.loginForm.invalid),n.R7$(),n.Y8G("ngIf",!a.isLoading),n.R7$(),n.Y8G("ngIf",a.isLoading))},dependencies:[u.bT,s.BC,s.cb,i.Jm,i.b_,i.I9,i.ME,i.tN,i.W9,i.$w,i.uz,i.he,i.w2,i.Gw,s.j4,s.JD],styles:[".login-page[_ngcontent-%COMP%]{--background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%)}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:20px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;border-radius:15px;box-shadow:0 4px 8px #0003;overflow:hidden}.text-center[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;color:#333}.login-button[_ngcontent-%COMP%]{margin-top:20px;border-radius:20px;box-shadow:0 4px 10px #0003}.signup-link[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}"]}),r})()}];let R=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[g.iI.forChild(U),g.iI]}),r})();var j=e(1713);let I=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[u.MD,s.YN,i.bv,R,j.HomePageModule,s.X1,c.q1]}),r})()}}]);